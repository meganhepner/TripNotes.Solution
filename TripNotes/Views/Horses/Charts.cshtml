@model TripNotes.Models.HorseRace

@{
  Layout = "_Layout";
}

<div class="form-horizontal">  
    <div class="row">  
        <div class="col-md-12">  
            <div class="col-md-12">  
                <div class="form-group">  
                    <div class="col-md-12">  
                        <table class="table table-bordered table-responsive">  
                            <thead>  
                                <tr>  
                                    <th scope="col">  
                                        <label class="control-label">Horse</label>  
                                    </th>  
                                    <th scope="col">  
                                        <label class="control-label">FPS 1 Call</label>  
                                    </th>  
                                    <th scope="col">  
                                        <label class="control-label">FPS 2 Call</label>  
                                    </th>  
                                    <th scope="col">  
                                        <label class="control-label">FPS 3 Call</label>  
                                    </th>  
                                    <th scope="col">  
                                        <label class="control-label">E Pace</label>  
                                    </th>  
                                    <th scope="col">  
                                        <label class="control-label">Avg Pace</label>  
                                    </th>  
                                </tr>  
                            </thead>  
                            <tbody>  
                                <tr>  
                                    <th scope="row">  
                                        <input type="text" class="form-control" id="horseName" />  
                                    </th>  
                                    <th scope="row">  
                                        <input type="text" class="form-control" id="FPS1" />  
                                    </th>  
                                    <th scope="row">  
                                        <input type="text" class="form-control" id="FPS2" />  
                                    </th>  
                                    <th scope="row">  
                                        <input type="text" class="form-control" id="FPS3" />  
                                    </th>  
                                    <th scope="row">  
                                        <input type="text" class="form-control" id="EPace" />  
                                    </th>  
                                    <th scope="row">  
                                        <input type="text" class="form-control" id="AvgPace" />  
                                    </th>  
                                </tr> 
                                <input class="btnAdd" type="button" name="name" value="Add A Horse To This Race" />
 
                            </tbody>  
                        </table>  
                    </div>  
                </div>  
            </div>  
        </div>  
    </div>  
</div>  
       <div id="chartContainerPie" class="containerPie">  
          <canvas id="myChart"> </canvas>  
        </div>  
        <button type="button" class="btnTest btn-light">Light</button>
    </div>  

  <script id="template" type="text/template"> 
       <tr>  
        <th scope="row">  
            <input type="text" class="form-control" id="horseName" />  
        </th>  
        <th scope="row">  
            <input type="text" class="form-control" id="FPS1" />  
        </th>  
        <th scope="row">  
            <input type="text" class="form-control" id="FPS2" />  
        </th>  
        <th scope="row">  
            <input type="text" class="form-control" id="FPS3" />  
        </th>  
        <th scope="row">  
            <input type="text" class="form-control" id="EPace" />  
        </th>  
        <th scope="row">  
            <input type="text" class="form-control" id="AvgPace" />  
        </th>  
    </tr>  
  </script>

@section scripts{
    <script type="text/javascript">

      $(document).ready(function() {
      
      $(".btnAdd").click(function() {
          $(".table").append($("#template").html());
        });

      $('.btnTest').click(function getHorseData() {
      let alldata = [];
        var horseName = $('#horseName').val();  
        var FPS1 = $('#FPS1').val();  
        var FPS2 = $('#FPS2').val();  
        var FPS3 = $('#FPS3').val();  
        var ePace = $('#EPace').val();  
        var avgPace = $('#AvgPace').val();  
        alldata.push(FPS1, FPS2, FPS3, ePace, avgPace);
        console.log(alldata);
        //return alldata;


        var ctx = document.getElementById('myChart').getContext('2d');
        var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'horizontalBar',
        autoSkip: false,  

        // The data for our dataset
        data: {
            labels: ['January', 'February', 'March', 'April', 'May'],
            datasets: [{
                label: 'My First dataset',
                backgroundColor: 'rgb(255, 99, 132)',
                borderColor: 'rgb(255, 99, 132)',
                data: alldata
            }]
        },

        // Configuration options go here
        options: {}
    });
  });
});




  

    </script>
}

 
    @* //For Bar Chart  
        var ctx = document.getElementById("myChart").getContext('2d');  
        ctx.height = 900;  
        var myChart = new Chart(ctx, {  
            type: 'bar',  
            height: "230px",  
            width: "300px",  
            autoSkip: false,  
            responsive: false,  
            animation: false,  
            showDatapoints: true,  
            legend: { position: 'bottom' },  
            data: {  
                //labels: ["M", "T", "W", "T", "F", "S", "S"],  
                labels: ["Education", "Lodging", "Fooding", "Travelling", "Communication", "Others"],  
                datasets: [{  
                    label: 'Monthly Expenses',  
                    //data: alldata,
                    data: [0, 10, 5, 2, 20, 30],  
                    backgroundColor: ["red", "blue", "green", "yellow", "pink", "brown"]  
                }]  
            }, options: {  
                events: ['click'],  
                scaleShowValues: true,  
                scales: {  
                    yAxes: [{  
                        ticks: {  
                            beginAtZero: true  
                        }  
                    }],  
                    xAxes: [{  
                        ticks: {  
                            autoSkip: false  
                        }  
                    }]  
                }  
            }  
        }); 
  
                //For Pie Chart  
                var ctx1 = document.getElementById("myChartPie").getContext('2d');  
                var myChart = new Chart(ctx1, {  
                    type: 'pie',  
                    height: "230px",  
                    width: "300px",  
                    responsive: false,  
                    animation: false,  
                    legend: { position: 'bottom' },  
                    data: {  
                        //labels: ["M", "T", "W", "T", "F", "S", "S"],  
                        labels: ["Education", "Lodging", "Fooding", "Travelling", "Communication", "Others"],  
                        datasets: [{  
                            label: 'Monthly Expenses',
                            data: alldata,
                            //data: [educationValue, lodgingValue, foodingValue, travellingValue, communicationValue, othersValue],  
                            backgroundColor: ["red", "blue", "green", "yellow", "pink", "brown"]  
                        }]  
                    }, options: {  
                        // This chart will not respond to mousemove, etc  
                        events: ['click']  
                    }  
                });  
  
                //For Line Chart  
                var ctx = document.getElementById("myChartLine").getContext('2d');  
                var myChart = new Chart(ctx, {  
                    type: 'line',  
                    height: "230px",  
                    width: "300px",  
                    responsive: false,  
                    animation: false,  
                    legend: { position: 'bottom' },  
                    data: {  
                        //labels: ["M", "T", "W", "T", "F", "S", "S"],  
                        labels: ["Education", "Lodging", "Fooding", "Travelling", "Communication", "Others"],  
                        datasets: [{  
                            label: 'Monthly Expenses',  
                            data: alldata,
                            //data: [educationValue, lodgingValue, foodingValue, travellingValue, communicationValue, othersValue],  
                            backgroundColor: "rgb(66, 134, 244)"  
                        }]  
                    }, options: {  
                        events: ['click'],  
                        scaleShowValues: true,  
                        scales: {  
                            yAxes: [{  
                                ticks: {  
                                    beginAtZero: true  
                                }  
                            }],  
                            xAxes: [{  
                                ticks: {  
                                    autoSkip: false  
                                }  
                            }]  
                        }  
                    }  
                });  *@